import{a as l,_ as D,o as j,c as M,P as x,j as r,m as Te}from"./index-D6Jq3K-x.js";import{_ as Pe,f as Ue,c as De,T as Me,u as Fe}from"./DefaultLayout-DMR4_zOt.js";import{C as ne}from"./index.esm-CbLieEqJ.js";import{d as be,c as L,e as Le,u as $e,f as We,h as Be}from"./api-DNt6p5pr.js";import{C as z,a as $}from"./CRow-B_wr-fKM.js";import{C as ye,a as je}from"./CCardBody-BJc_-Mbn.js";import{C as ze}from"./CCardHeader-CQ5ah_nf.js";import{C as He,a as q}from"./CContainer-Dfo9oL2s.js";import{c as Ke}from"./cil-user-Ddrdy7PS.js";import{c as Ve}from"./cil-trash-CBbKHhHb.js";import{C as Ne,a as Ee,b as we,c as Se,d as Ae}from"./CModalTitle-DNXVKnjk.js";import{C as Ze}from"./CForm-B3UjcyYF.js";import{a as J,C as le}from"./CFormInput-B69Gv90_.js";import"./hz_logo_5-DkmOu-nl.js";const _e=l.createContext({}),ce=l.forwardRef((e,a)=>{var{children:t,activeItemKey:s,alwaysOpen:o=!1,className:u,flush:m}=e,c=D(e,["children","activeItemKey","alwaysOpen","className","flush"]);const[i,n]=l.useState(s);return j.createElement("div",Object.assign({className:M("accordion",{"accordion-flush":m},u)},c,{ref:a}),j.createElement(_e.Provider,{value:{_activeItemKey:i,alwaysOpen:o,setActiveKey:n}},t))});ce.propTypes={activeItemKey:x.oneOfType([x.number,x.string]),alwaysOpen:x.bool,children:x.node,className:x.string,flush:x.bool};ce.displayName="CAccordion";function ie(){return ie=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var s in t)({}).hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},ie.apply(null,arguments)}function qe(e,a){return e.classList?!!a&&e.classList.contains(a):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+a+" ")!==-1}function Qe(e,a){e.classList?e.classList.add(a):qe(e,a)||(typeof e.className=="string"?e.className=e.className+" "+a:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+a))}function ke(e,a){return e.replace(new RegExp("(^|\\s)"+a+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Je(e,a){e.classList?e.classList.remove(a):typeof e.className=="string"?e.className=ke(e.className,a):e.setAttribute("class",ke(e.className&&e.className.baseVal||"",a))}var Xe=function(a,t){return a&&t&&t.split(" ").forEach(function(s){return Qe(a,s)})},oe=function(a,t){return a&&t&&t.split(" ").forEach(function(s){return Je(a,s)})},de=(function(e){Pe(a,e);function a(){for(var s,o=arguments.length,u=new Array(o),m=0;m<o;m++)u[m]=arguments[m];return s=e.call.apply(e,[this].concat(u))||this,s.appliedClasses={appear:{},enter:{},exit:{}},s.onEnter=function(c,i){var n=s.resolveArguments(c,i),f=n[0],h=n[1];s.removeClasses(f,"exit"),s.addClass(f,h?"appear":"enter","base"),s.props.onEnter&&s.props.onEnter(c,i)},s.onEntering=function(c,i){var n=s.resolveArguments(c,i),f=n[0],h=n[1],C=h?"appear":"enter";s.addClass(f,C,"active"),s.props.onEntering&&s.props.onEntering(c,i)},s.onEntered=function(c,i){var n=s.resolveArguments(c,i),f=n[0],h=n[1],C=h?"appear":"enter";s.removeClasses(f,C),s.addClass(f,C,"done"),s.props.onEntered&&s.props.onEntered(c,i)},s.onExit=function(c){var i=s.resolveArguments(c),n=i[0];s.removeClasses(n,"appear"),s.removeClasses(n,"enter"),s.addClass(n,"exit","base"),s.props.onExit&&s.props.onExit(c)},s.onExiting=function(c){var i=s.resolveArguments(c),n=i[0];s.addClass(n,"exit","active"),s.props.onExiting&&s.props.onExiting(c)},s.onExited=function(c){var i=s.resolveArguments(c),n=i[0];s.removeClasses(n,"exit"),s.addClass(n,"exit","done"),s.props.onExited&&s.props.onExited(c)},s.resolveArguments=function(c,i){return s.props.nodeRef?[s.props.nodeRef.current,c]:[c,i]},s.getClassNames=function(c){var i=s.props.classNames,n=typeof i=="string",f=n&&i?i+"-":"",h=n?""+f+c:i[c],C=n?h+"-active":i[c+"Active"],y=n?h+"-done":i[c+"Done"];return{baseClassName:h,activeClassName:C,doneClassName:y}},s}var t=a.prototype;return t.addClass=function(o,u,m){var c=this.getClassNames(u)[m+"ClassName"],i=this.getClassNames("enter"),n=i.doneClassName;u==="appear"&&m==="done"&&n&&(c+=" "+n),m==="active"&&o&&Ue(o),c&&(this.appliedClasses[u][m]=c,Xe(o,c))},t.removeClasses=function(o,u){var m=this.appliedClasses[u],c=m.base,i=m.active,n=m.done;this.appliedClasses[u]={},c&&oe(o,c),i&&oe(o,i),n&&oe(o,n)},t.render=function(){var o=this.props;o.classNames;var u=De(o,["classNames"]);return j.createElement(Me,ie({},u,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},a})(j.Component);de.defaultProps={classNames:""};de.propTypes={};const ue=l.forwardRef((e,a)=>{var{children:t,className:s,horizontal:o,onHide:u,onShow:m,visible:c}=e,i=D(e,["children","className","horizontal","onHide","onShow","visible"]);const n=l.useRef(null),f=Fe(a,n),[h,C]=l.useState(),[y,b]=l.useState(),N=()=>{if(m&&m(),o){n.current&&b(n.current.scrollWidth);return}n.current&&C(n.current.scrollHeight)},g=()=>{if(o){b(0);return}C(0)},F=()=>{if(o){n.current&&b(n.current.scrollWidth);return}n.current&&C(n.current.scrollHeight)},A=()=>{if(u&&u(),o){b(0);return}C(0)},T=()=>{if(o){b(0);return}C(0)};return j.createElement(de,{in:c,nodeRef:n,onEntering:N,onEntered:g,onExit:F,onExiting:A,onExited:T,timeout:350},w=>{const R=h===0?null:{height:h},_=y===0?null:{width:y};return j.createElement("div",Object.assign({className:M(s,{"collapse-horizontal":o,collapsing:w==="entering"||w==="exiting","collapse show":w==="entered",collapse:w==="exited"}),style:Object.assign(Object.assign({},R),_)},i,{ref:f}),t)})});ue.propTypes={children:x.node,className:x.string,horizontal:x.bool,onHide:x.func,onShow:x.func,visible:x.bool};ue.displayName="CCollapse";const me=l.createContext({}),pe=l.forwardRef((e,a)=>{var{children:t,className:s}=e,o=D(e,["children","className"]);const{id:u,visible:m}=l.useContext(me);return j.createElement(ue,{className:"accordion-collapse",id:u,visible:m},j.createElement("div",Object.assign({className:M("accordion-body",s)},o,{ref:a}),t))});pe.propTypes={children:x.node,className:x.string};pe.displayName="CAccordionBody";const he=l.forwardRef((e,a)=>{var{children:t,className:s}=e,o=D(e,["children","className"]);const{id:u,visible:m,setVisible:c}=l.useContext(me);return j.createElement("button",Object.assign({type:"button",className:M("accordion-button",{collapsed:!m},s),"aria-controls":u,"aria-expanded":m,onClick:()=>c(!m)},o,{ref:a}),t)});he.propTypes={children:x.node,className:x.string};he.displayName="CAccordionButton";const fe=l.forwardRef((e,a)=>{var{children:t,className:s}=e,o=D(e,["children","className"]);return j.createElement("div",Object.assign({className:M("accordion-header",s)},o,{ref:a}),j.createElement(he,null,t))});fe.propTypes={children:x.node,className:x.string};fe.displayName="CAccordionHeader";const xe=l.forwardRef((e,a)=>{var{children:t,className:s,id:o,itemKey:u}=e,m=D(e,["children","className","id","itemKey"]);const c=l.useId(),i=o??c,n=l.useRef(u??i),{_activeItemKey:f,alwaysOpen:h,setActiveKey:C}=l.useContext(_e),[y,b]=l.useState(f===n.current);return l.useEffect(()=>{!h&&y&&C(n.current)},[y]),l.useEffect(()=>{b(f===n.current)},[f]),j.createElement("div",Object.assign({className:M("accordion-item",s)},m,{ref:a}),j.createElement(me.Provider,{value:{id:i,setVisible:b,visible:y}},t))});xe.propTypes={children:x.node,className:x.string,itemKey:x.oneOfType([x.number,x.string])};xe.displayName="CAccordionItem";const ve=l.forwardRef((e,a)=>{var{children:t,className:s}=e,o=D(e,["children","className"]);return j.createElement(He,Object.assign({className:M("card-link",s)},o,{ref:a}),t)});ve.propTypes={children:x.node,className:x.string};ve.displayName="CCardLink";const ge=l.forwardRef((e,a)=>{var{children:t,as:s="p",className:o}=e,u=D(e,["children","as","className"]);return j.createElement(s,Object.assign({className:M("card-text",o)},u,{ref:a}),t)});ge.propTypes={as:x.elementType,children:x.node,className:x.string};ge.displayName="CCardText";const Ce=l.forwardRef((e,a)=>{var{children:t,as:s="h5",className:o}=e,u=D(e,["children","as","className"]);return j.createElement(s,Object.assign({className:M("card-title",o)},u,{ref:a}),t)});Ce.propTypes={as:x.elementType,children:x.node,className:x.string};Ce.displayName="CCardTitle";var Ye=["512 512","<path fill='var(--ci-primary-color, currentColor)' d='M29.663,482.25l.087.087a24.847,24.847,0,0,0,17.612,7.342,25.178,25.178,0,0,0,8.1-1.345l142.006-48.172,272.5-272.5A88.832,88.832,0,0,0,344.334,42.039l-272.5,272.5L23.666,456.541A24.844,24.844,0,0,0,29.663,482.25Zm337.3-417.584a56.832,56.832,0,0,1,80.371,80.373L411.5,180.873,331.127,100.5ZM99.744,331.884,308.5,123.127,388.873,203.5,180.116,412.256,58.482,453.518Z' class='ci-primary'/>"];function Ge(e,{insertAt:a}={}){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",a==="top"&&t.firstChild?t.insertBefore(s,t.firstChild):t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}Ge(`.rmsc{--rmsc-main: #4285f4;--rmsc-hover: #f1f3f5;--rmsc-selected: #e2e6ea;--rmsc-border: #ccc;--rmsc-gray: #aaa;--rmsc-bg: #fff;--rmsc-p: 10px;--rmsc-radius: 4px;--rmsc-h: 38px}.rmsc *{box-sizing:border-box;transition:all .2s ease}.rmsc .gray{color:var(--rmsc-gray)}.rmsc .dropdown-content{position:absolute;z-index:1;top:100%;width:100%;padding-top:8px}.rmsc .dropdown-content .panel-content{overflow:hidden;border-radius:var(--rmsc-radius);background:var(--rmsc-bg);box-shadow:0 0 0 1px #0000001a,0 4px 11px #0000001a}.rmsc .dropdown-container{position:relative;outline:0;background-color:var(--rmsc-bg);border:1px solid var(--rmsc-border);border-radius:var(--rmsc-radius)}.rmsc .dropdown-container[aria-disabled=true]:focus-within{box-shadow:var(--rmsc-gray) 0 0 0 1px;border-color:var(--rmsc-gray)}.rmsc .dropdown-container:focus-within{box-shadow:var(--rmsc-main) 0 0 0 1px;border-color:var(--rmsc-main)}.rmsc .dropdown-heading{position:relative;padding:0 var(--rmsc-p);display:flex;align-items:center;width:100%;height:var(--rmsc-h);cursor:default;outline:0}.rmsc .dropdown-heading .dropdown-heading-value{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:1}.rmsc .clear-selected-button{cursor:pointer;background:none;border:0;padding:0;display:flex}.rmsc .options{max-height:260px;overflow-y:auto;margin:0;padding-left:0}.rmsc .options li{list-style:none;margin:0}.rmsc .select-item{box-sizing:border-box;cursor:pointer;display:block;padding:var(--rmsc-p);outline-offset:-1px;outline-color:var(--rmsc-primary)}.rmsc .select-item:hover{background:var(--rmsc-hover)}.rmsc .select-item.selected{background:var(--rmsc-selected)}.rmsc .no-options{padding:var(--rmsc-p);text-align:center;color:var(--rmsc-gray)}.rmsc .search{width:100%;position:relative;border-bottom:1px solid var(--rmsc-border)}.rmsc .search input{background:none;height:var(--rmsc-h);padding:0 var(--rmsc-p);width:100%;outline:0;border:0;font-size:1em}.rmsc .search input:focus{background:var(--rmsc-hover)}.rmsc .search-clear-button{cursor:pointer;position:absolute;top:0;right:0;bottom:0;background:none;border:0;padding:0 calc(var(--rmsc-p) / 2)}.rmsc .search-clear-button [hidden]{display:none}.rmsc .item-renderer{display:flex;align-items:baseline}.rmsc .item-renderer input{margin:0 5px 0 0}.rmsc .item-renderer.disabled{opacity:.5}.rmsc .spinner{animation:rotate 2s linear infinite}.rmsc .spinner .path{stroke:var(--rmsc-border);stroke-width:4px;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}
`);var es={allItemsAreSelected:"All items are selected.",clearSearch:"Clear Search",clearSelected:"Clear Selected",noOptions:"No options",search:"Search",selectAll:"Select All",selectAllFiltered:"Select All (Filtered)",selectSomeItems:"Select...",create:"Create"},ss={value:[],hasSelectAll:!0,className:"multi-select",debounceDuration:200,options:[]},Re=j.createContext({}),rs=({props:e,children:a})=>{let[t,s]=l.useState(e.options),o=u=>{var m;return((m=e.overrideStrings)==null?void 0:m[u])||es[u]};return l.useEffect(()=>{s(e.options)},[e.options]),r.jsx(Re.Provider,{value:{t:o,...ss,...e,options:t,setOptions:s},children:a})},Y=()=>j.useContext(Re);function as(e,a){let t=l.useRef(!1);l.useEffect(()=>{t.current?e():t.current=!0},a)}var ts={when:!0,eventTypes:["keydown"]};function X(e,a,t){let s=l.useMemo(()=>Array.isArray(e)?e:[e],[e]),o=Object.assign({},ts,t),{when:u,eventTypes:m}=o,c=l.useRef(a),{target:i}=o;l.useEffect(()=>{c.current=a});let n=l.useCallback(f=>{s.some(h=>f.key===h||f.code===h)&&c.current(f)},[s]);l.useEffect(()=>{if(u&&typeof window<"u"){let f=i?i.current:window;return m.forEach(h=>{f&&f.addEventListener(h,n)}),()=>{m.forEach(h=>{f&&f.removeEventListener(h,n)})}}},[u,m,s,i,a])}var k={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ENTER:"Enter",ESCAPE:"Escape",SPACE:"Space"},ns=(e,a)=>{let t;return function(...s){clearTimeout(t),t=setTimeout(()=>{e.apply(null,s)},a)}};function ls(e,a){return a?e.filter(({label:t,value:s})=>t!=null&&s!=null&&t.toLowerCase().includes(a.toLowerCase())):e}var Ie=()=>r.jsxs("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-search-clear-icon gray",children:[r.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),r.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),os=({checked:e,option:a,onClick:t,disabled:s})=>r.jsxs("div",{className:`item-renderer ${s?"disabled":""}`,children:[r.jsx("input",{type:"checkbox",onChange:t,checked:e,tabIndex:-1,disabled:s}),r.jsx("span",{children:a.label})]}),is=os,cs=({itemRenderer:e=is,option:a,checked:t,tabIndex:s,disabled:o,onSelectionChanged:u,onClick:m})=>{let c=l.useRef(),i=h=>{n(),h.preventDefault()},n=()=>{o||u(!t)},f=h=>{n(),m(h)};return X([k.ENTER,k.SPACE],i,{target:c}),r.jsx("label",{className:`select-item ${t?"selected":""}`,role:"option","aria-selected":t,tabIndex:s,ref:c,children:r.jsx(e,{option:a,checked:t,onClick:f,disabled:o})})},Oe=cs,ds=({options:e,onClick:a,skipIndex:t})=>{let{disabled:s,value:o,onChange:u,ItemRenderer:m}=Y(),c=(i,n)=>{s||u(n?[...o,i]:o.filter(f=>f.value!==i.value))};return r.jsx(r.Fragment,{children:e.map((i,n)=>{let f=n+t;return r.jsx("li",{children:r.jsx(Oe,{tabIndex:f,option:i,onSelectionChanged:h=>c(i,h),checked:!!o.find(h=>h.value===i.value),onClick:h=>a(h,f),itemRenderer:m,disabled:i.disabled||s})},(i==null?void 0:i.key)||n)})})},us=ds,ms=()=>{let{t:e,onChange:a,options:t,setOptions:s,value:o,filterOptions:u,ItemRenderer:m,disabled:c,disableSearch:i,hasSelectAll:n,ClearIcon:f,debounceDuration:h,isCreatable:C,onCreateOption:y}=Y(),b=l.useRef(),N=l.useRef(),[g,F]=l.useState(""),[A,T]=l.useState(t),[w,R]=l.useState(""),[_,I]=l.useState(0),H=l.useCallback(ns(d=>R(d),h),[]),O=l.useMemo(()=>{let d=0;return i||(d+=1),n&&(d+=1),d},[i,n]),K={label:e(g?"selectAllFiltered":"selectAll"),value:""},W=d=>{let v=A.filter(U=>!U.disabled).map(U=>U.value);if(d){let U=[...o.map(te=>te.value),...v];return(u?A:t).filter(te=>U.includes(te.value))}return o.filter(U=>!v.includes(U.value))},V=d=>{let v=W(d);a(v)},S=d=>{H(d.target.value),F(d.target.value),I(0)},P=()=>{var d;R(""),F(""),(d=N==null?void 0:N.current)==null||d.focus()},B=d=>I(d),G=d=>{switch(d.code){case k.ARROW_UP:Z(-1);break;case k.ARROW_DOWN:Z(1);break;default:return}d.stopPropagation(),d.preventDefault()};X([k.ARROW_DOWN,k.ARROW_UP],G,{target:b});let ee=()=>{I(0)},Q=async()=>{let d={label:g,value:g,__isNew__:!0};y&&(d=await y(g)),s([d,...t]),P(),a([...o,d])},se=async()=>u?await u(t,w):ls(t,w),Z=d=>{let v=_+d;v=Math.max(0,v),v=Math.min(v,t.length+Math.max(O-1,0)),I(v)};l.useEffect(()=>{var d,v;(v=(d=b==null?void 0:b.current)==null?void 0:d.querySelector(`[tabIndex='${_}']`))==null||v.focus()},[_]);let[re,ae]=l.useMemo(()=>{let d=A.filter(v=>!v.disabled);return[d.every(v=>o.findIndex(U=>U.value===v.value)!==-1),d.length!==0]},[A,o]);l.useEffect(()=>{se().then(T)},[w,t]);let p=l.useRef();X([k.ENTER],Q,{target:p});let E=C&&g&&!A.some(d=>(d==null?void 0:d.value)===g);return r.jsxs("div",{className:"select-panel",role:"listbox",ref:b,children:[!i&&r.jsxs("div",{className:"search",children:[r.jsx("input",{placeholder:e("search"),type:"text","aria-describedby":e("search"),onChange:S,onFocus:ee,value:g,ref:N,tabIndex:0}),r.jsx("button",{type:"button",className:"search-clear-button",hidden:!g,onClick:P,"aria-label":e("clearSearch"),children:f||r.jsx(Ie,{})})]}),r.jsxs("ul",{className:"options",children:[n&&ae&&r.jsx(Oe,{tabIndex:O===1?0:1,checked:re,option:K,onSelectionChanged:V,onClick:()=>B(1),itemRenderer:m,disabled:c}),A.length?r.jsx(us,{skipIndex:O,options:A,onClick:(d,v)=>B(v)}):E?r.jsx("li",{onClick:Q,className:"select-item creatable",tabIndex:1,ref:p,children:`${e("create")} "${g}"`}):r.jsx("li",{className:"no-options",children:e("noOptions")})]})]})},ps=ms,hs=({expanded:e})=>r.jsx("svg",{width:"24",height:"24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"dropdown-heading-dropdown-arrow gray",children:r.jsx("path",{d:e?"M18 15 12 9 6 15":"M6 9L12 15 18 9"})}),fs=()=>{let{t:e,value:a,options:t,valueRenderer:s}=Y(),o=a.length===0,u=a.length===t.length,m=s&&s(a,t);return o?r.jsx("span",{className:"gray",children:m||e("selectSomeItems")}):r.jsx("span",{children:m||(u?e("allItemsAreSelected"):a.map(c=>c.label).join(", "))})},xs=({size:e=24})=>r.jsx("span",{style:{width:e,marginRight:"0.2rem"},children:r.jsx("svg",{width:e,height:e,className:"spinner",viewBox:"0 0 50 50",style:{display:"inline",verticalAlign:"middle"},children:r.jsx("circle",{cx:"25",cy:"25",r:"20",fill:"none",className:"path"})})}),vs=()=>{let{t:e,onMenuToggle:a,ArrowRenderer:t,shouldToggleOnHover:s,isLoading:o,disabled:u,onChange:m,labelledBy:c,value:i,isOpen:n,defaultIsOpen:f,ClearSelectedIcon:h,closeOnChangedValue:C}=Y();l.useEffect(()=>{C&&g(!1)},[i]);let[y,b]=l.useState(!0),[N,g]=l.useState(f),[F,A]=l.useState(!1),T=t||hs,w=l.useRef();as(()=>{a&&a(N)},[N]),l.useEffect(()=>{f===void 0&&typeof n=="boolean"&&(b(!1),g(n))},[n]);let R=S=>{var P;["text","button"].includes(S.target.type)&&[k.SPACE,k.ENTER].includes(S.code)||(y&&(S.code===k.ESCAPE?(g(!1),(P=w==null?void 0:w.current)==null||P.focus()):g(!0)),S.preventDefault())};X([k.ENTER,k.ARROW_DOWN,k.SPACE,k.ESCAPE],R,{target:w});let _=S=>{y&&s&&g(S)},I=()=>!F&&A(!0),H=S=>{!S.currentTarget.contains(S.relatedTarget)&&y&&(A(!1),g(!1))},O=()=>_(!0),K=()=>_(!1),W=()=>{y&&g(o||u?!1:!N)},V=S=>{S.stopPropagation(),m([]),y&&g(!1)};return r.jsxs("div",{tabIndex:0,className:"dropdown-container","aria-labelledby":c,"aria-expanded":N,"aria-readonly":!0,"aria-disabled":u,ref:w,onFocus:I,onBlur:H,onMouseEnter:O,onMouseLeave:K,children:[r.jsxs("div",{className:"dropdown-heading",onClick:W,children:[r.jsx("div",{className:"dropdown-heading-value",children:r.jsx(fs,{})}),o&&r.jsx(xs,{}),i.length>0&&h!==null&&r.jsx("button",{type:"button",className:"clear-selected-button",onClick:V,disabled:u,"aria-label":e("clearSelected"),children:h||r.jsx(Ie,{})}),r.jsx(T,{expanded:N})]}),N&&r.jsx("div",{className:"dropdown-content",children:r.jsx("div",{className:"panel-content",children:r.jsx(ps,{})})})]})},gs=vs,Cs=e=>r.jsx(rs,{props:e,children:r.jsx("div",{className:`rmsc ${e.className||"multi-select"}`,children:r.jsx(gs,{})})}),bs=Cs;const Us=()=>{const[e,a]=l.useState([]),[t,s]=l.useState([]),[o,u]=l.useState(null),[m,c]=l.useState(!1),[i,n]=l.useState(""),[f,h]=l.useState(""),[C,y]=l.useState(""),[b,N]=l.useState("");Te();const[g,F]=l.useState([]),[A,T]=l.useState(""),[w,R]=l.useState(!1),[_,I]=l.useState([]),[H,O]=l.useState(!1),[K,W]=l.useState(null),[V,S]=l.useState([]);l.useEffect(()=>{R(!1),B(),G(),P()},[]);const P=async()=>{try{const p=await be();a(p)}catch{u("Failed to load panels"),L("Internal server error",2)}},B=async()=>{try{const p=await be();s(p),console.log(p)}catch{u("Failed to load panels"),L("Internal server error",2)}},G=async()=>{try{const p=await Le();F(p);const E=p.map(d=>({panel_name:d.panel_name,panel_id:d.panel_id,label:d.panel_name,value:d.panel_id}));S(E)}catch{u("Failed to load panels"),L("Internal server error",2)}},ee=async p=>{try{const E=await Be(p);L("Deleted successfully",1),P(),B()}catch{u("Failed to load panels"),L("Internal server error",2)}},Q=async p=>{R(!0),T(p),I([]);const E=e.find(d=>d.user_id===p);if(E){console.log(E);const d=E.assignments.map(v=>({panel_name:v.panel_name,panel_id:v.panel_id,label:v.panel_name,value:v.panel_id}));I(d),n(E.user_name),h(E.email_id),N(E.phone_number),c(!0)}},se=async()=>{try{if(w){const p=_.map(d=>({panel_id:d.panel_id})),E=await $e({name:i,email_id:f,phone_number:b,panels:p},A);L("User updated successfully",1)}else{const p=_.map(d=>({panel_id:d.panel_id})),E=await We({name:i,email_id:f,phone_number:b,panels:p});L("User added successfully",1)}T(""),n(""),h(""),N(""),c(!1),P(),B(),R(!1),I([])}catch(p){console.error("Failed to save panel:",p),u("Failed to save panel"),L("Internal server error",2)}},Z=async()=>{T(""),R(!1),n(""),h(""),N(""),c(!1)},re=p=>{W(p),O(!0)},ae=async()=>{try{ee(K),O(!1),W(null)}catch(p){console.error("Failed to delete user",p)}};return r.jsxs(r.Fragment,{children:[r.jsx(z,{children:r.jsx($,{xs:12,children:r.jsxs(ye,{className:"mb-4",children:[r.jsxs(ze,{children:[r.jsx("strong",{children:"Users"}),r.jsx(q,{color:"primary",size:"sm",className:"float-end",onClick:()=>c(!m),children:"Add User"})]}),r.jsx(je,{children:r.jsx(z,{xs:{gutter:4},children:t.length>0?t.map((p,E)=>r.jsx($,{xs:12,sm:12,xl:6,xxl:6,children:r.jsx(ce,{activeItemKey:0,children:r.jsxs(xe,{itemKey:p.user_id,children:[r.jsx(fe,{children:r.jsxs("div",{className:"d-flex w-100 justify-content-between align-items-center",children:[r.jsxs("span",{children:[" ",r.jsx(ne,{icon:Ke,size:"sm"})," ",p.user_name,"  (No. of panels assigned - ",p.assignments.length,")"]}),r.jsxs("div",{children:[r.jsx(ne,{icon:Ye,style:{marginRight:"7px",cursor:"default"},size:"sm",onClick:()=>Q(p.user_id)}),r.jsx(ne,{icon:Ve,style:{marginRight:"7px",cursor:"default"},size:"sm",onClick:()=>re(p.user_id)})]})]})}),r.jsx(pe,{children:r.jsx(z,{xs:{gutter:4},children:p.assignments.map((d,v)=>r.jsx($,{xs:12,sm:6,xl:6,xxl:6,children:r.jsx(ye,{className:"mb-3",children:r.jsxs(je,{children:[r.jsx(Ce,{children:d.panel_name}),r.jsxs(ge,{children:["Secret Code: ",d.secret_code]}),r.jsx(ve,{href:`data:image/png;base64,${d.qr_code_base64}`,download:`${d.panel_name}_${p.user_name}.png`,children:"Download QR Code"})]})})}))})})]})})},E)):r.jsx($,{xs:12,sm:12,xl:12,xxl:12,children:"No record found"},"no-record")})})]})})}),r.jsxs(Ne,{size:"lg",visible:m,onClose:()=>Z(),children:[r.jsx(Ee,{children:r.jsx(we,{children:"Add User"})}),r.jsx(Se,{children:r.jsxs(Ze,{children:[r.jsx(z,{className:"g-3",children:r.jsxs($,{xs:!0,children:[r.jsx(J,{htmlFor:"username",children:"Name"}),r.jsx(le,{type:"text",id:"username",value:i,autoComplete:"off",onChange:p=>n(p.target.value)})]})}),r.jsxs(z,{className:"g-3",children:[r.jsxs($,{xs:!0,children:[r.jsx(J,{htmlFor:"email_id",children:"Email Id"}),r.jsx(le,{type:"text",id:"email_id",value:f,autoComplete:"off",onChange:p=>h(p.target.value)})]}),r.jsxs($,{xs:!0,children:[r.jsx(J,{htmlFor:"phone_number",children:"Phone Number"}),r.jsx(le,{type:"text",id:"phone_number",value:b,autoComplete:"off",onChange:p=>N(p.target.value)})]})]}),r.jsx(z,{children:r.jsxs($,{xs:!0,children:[r.jsx(J,{htmlFor:"panel_select",children:"Panel"}),r.jsx(bs,{options:V,value:_,onChange:I,labelledBy:"Select"})]})})]})}),r.jsxs(Ae,{children:[r.jsx(q,{color:"secondary",onClick:()=>Z(),children:"Close"}),r.jsx(q,{color:"primary",onClick:se,children:"Save changes"})]})]}),r.jsxs(Ne,{visible:H,onClose:()=>O(!1),children:[r.jsx(Ee,{children:r.jsx(we,{children:"Confirm Deletion"})}),r.jsx(Se,{children:"Are you sure you want to delete this user?"}),r.jsxs(Ae,{children:[r.jsx(q,{color:"secondary",onClick:()=>O(!1),children:"Cancel"}),r.jsx(q,{color:"danger",onClick:()=>ae(),children:"Delete"})]})]})]})};export{Us as default};
